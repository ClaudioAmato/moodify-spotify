<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>
      Set your mood
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-refresher
    (ionRefresh)="doRefresh($event)"
    slot="fixed"
    pullFactor="0.5"
    pullMin="80"
    pullMax="200"
  >
    <ion-refresher-content
      pullingIcon="chevron-down"
      refreshingSpinner="dots"
      pullingText="Pull to refresh"
      refreshingText="Refreshing..."
    ></ion-refresher-content>
  </ion-refresher>
  <ion-card>
    <ion-card-header class="ion-text-center">
      <ion-label style="font-weight: bold; font-size: 20px;" color="primary">
        How do you feel right now?
      </ion-label>
    </ion-card-header>
    <div class="center-div">
      <ng-container *ngFor="let item of arrayEmoji; let i = index">
        <div
          class="emojiContainer"
          tabindex="{{i+1}}"
          (click)="currentState(item.name)"
        >
          <img src="{{item.image}}" class="emojiImg" id="current{{i}}" />
          {{item.name}}
        </div>
      </ng-container>
    </div>
    <ion-card-header class="ion-text-center">
      <ion-label style="font-weight: bold; font-size: 20px;" color="primary">
        How do you want to feel?
      </ion-label>
    </ion-card-header>
    <div class="center-div">
      <ng-container *ngFor="let item of arrayEmoji; let i = index">
        <div
          class="emojiContainer"
          tabindex="{{i+1}}"
          (click)="targetState(item.name)"
        >
          <img src="{{item.image}}" class="emojiImg" id="target{{i}}" />
          {{item.name}}
        </div>
      </ng-container>
    </div>
    <div class="center-div">
      <ion-button
        (click)="confirmMood()"
        class="submit"
        [disabled]="this.currentEmotion === undefined || this.targetEmotion === undefined"
        [color]="this.currentEmotion === undefined || this.targetEmotion === undefined ? 'medium':'primary'"
        >Confirm</ion-button
      >
    </div>
  </ion-card>
</ion-content>
